<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Landmark Time Cut for Longitudinal and Survival Data — cutLMdata • JMtwostage</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Landmark Time Cut for Longitudinal and Survival Data — cutLMdata"><meta property="og:description" content="This function filters and processes survival and longitudinal data based on a specified landmark time.
It adjusts the time variables in the data (i.e., survival time and longitudinal visit time) relative to the landmark time.
The data are filtered to include only observations with survival times greater than or equal to the landmark time."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">JMtwostage</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Intro_JMtwostage.html">Code for prediction error</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Landmark Time Cut for Longitudinal and Survival Data</h1>
    
    <div class="hidden name"><code>cutLMdata.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function filters and processes survival and longitudinal data based on a specified landmark time.
It adjusts the time variables in the data (i.e., survival time and longitudinal visit time) relative to the landmark time.
The data are filtered to include only observations with survival times greater than or equal to the landmark time.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cutLMdata</span><span class="op">(</span></span>
<span>  <span class="va">ldata</span>,</span>
<span>  <span class="va">sdata</span>,</span>
<span>  <span class="va">id</span>,</span>
<span>  <span class="va">stime</span>,</span>
<span>  <span class="va">status</span>,</span>
<span>  <span class="va">visitTime</span>,</span>
<span>  <span class="va">lmtime</span>,</span>
<span>  <span class="va">timeDep</span>,</span>
<span>  <span class="va">timeFixed</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>ldata</dt>
<dd><p>A data frame containing the longitudinal data. It must include the following columns:
- `id`: A variable identifying subjects (e.g., subject ID).
- `visitTime`: The time variable when the longitudinal measurement was recorded.
- `stime`: The survival time variable.
- `status`: The event status variable (e.g., 1 for event, 0 for censoring).
- `timeDep`: A column containing time-dependent covariates.
- `timeFixed`: A column containing time-fixed covariates.</p></dd>


<dt>sdata</dt>
<dd><p>A data frame containing the survival data. It must include the following columns:
- `id`: A variable identifying subjects (same as in `ldata`).
- `visitTime`: The time variable when the longitudinal measurement was recorded.
- `stime`: The survival time variable.
- `status`: The event status variable (same as in `ldata`).
- `timeDep`: A column containing time-dependent covariates.
- `timeFixed`: A column containing time-fixed covariates.</p></dd>


<dt>id</dt>
<dd><p>A character string specifying the name of the variable in both `ldata` and `sdata` that identifies subjects.</p></dd>


<dt>stime</dt>
<dd><p>A character string specifying the name of the survival time variable in both `ldata` and `sdata`.</p></dd>


<dt>status</dt>
<dd><p>A character string specifying the name of the event status variable in both `ldata` and `sdata`.</p></dd>


<dt>visitTime</dt>
<dd><p>A character string specifying the name of the visit time variable in both `ldata` and `sdata`.</p></dd>


<dt>lmtime</dt>
<dd><p>A numeric value specifying the landmark time. This is used to filter the data and adjust the time variables.</p></dd>


<dt>timeDep</dt>
<dd><p>A character string specifying the name of the time-dependent covariate(s) in both `ldata` and `sdata`.</p></dd>


<dt>timeFixed</dt>
<dd><p>A character string specifying the name of the time-fixed covariate(s) in both `ldata` and `sdata`.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list containing two components:
  - `Longdata`: A data frame containing the longitudinal data (`ldata`) filtered and adjusted relative to the landmark time.
  - `Survdata`: A data frame containing the survival data (`sdata`) filtered and adjusted relative to the landmark time.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The function checks that the landmark time is within the range of survival times in `sdata`. If the `lmtime` is out of bounds,
an error message is returned. Both the survival and longitudinal data are filtered to include only records where the survival
time is greater than or equal to the landmark time. After filtering, the function adjusts the survival and visit times by
subtracting the landmark time and ensures that negative longitudinal visit times are set to zero.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>`Surv` function for creating survival objects.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example usage</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">cutLMdata</span><span class="op">(</span></span></span>
<span class="r-in"><span>  ldata <span class="op">=</span> <span class="va">long_data</span>,</span></span>
<span class="r-in"><span>  sdata <span class="op">=</span> <span class="va">surv_data</span>,</span></span>
<span class="r-in"><span>  id <span class="op">=</span> <span class="st">"ID"</span>,</span></span>
<span class="r-in"><span>  stime <span class="op">=</span> <span class="st">"survival_time"</span>,</span></span>
<span class="r-in"><span>  status <span class="op">=</span> <span class="st">"survival_status"</span>,</span></span>
<span class="r-in"><span>  visitTime <span class="op">=</span> <span class="st">"Time"</span>,</span></span>
<span class="r-in"><span>  lmtime <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  timeDep <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"marker_1"</span>,<span class="st">"marker_2"</span>,<span class="st">"marker_3"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  timeFixed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Z_1"</span>,<span class="st">"Z_2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Accessing the processed data:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">Longdata</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ID Time survival_time survival_status  marker_1 marker_2 marker_3      Z_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  2    0      6.827812               1  87.35792 46.69227 46.45367 42.94507</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  2    0      6.827812               1  92.53286 49.08752 48.69088 42.94507</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  2    0      6.827812               1  98.48226 50.63569 50.17329 42.94507</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  2    1      6.827812               1 102.72872       NA 54.25012 42.94507</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  2    2      6.827812               1        NA 57.92138 59.65818 42.94507</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  3    0     10.396805               1  83.83849 45.51705 41.27908 39.45258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Z_2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   1</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">Survdata</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ID Time survival_time survival_status  marker_1 marker_2 marker_3      Z_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2    4      6.827812               1        NA 57.92138 59.65818 42.94507</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  3    4     10.396805               1  96.84821 56.48724 53.02516 39.45258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  4    4      4.456136               1 126.42010 67.09301 69.14951 53.85501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  5    4      7.156370               1 107.40190 59.86177 63.62087 45.34258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  6    4      9.139249               1 125.86399 68.22229 71.17523 52.16992</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  7    4      9.687020               1  99.99836       NA 56.76058 41.52341</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Z_2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   1</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Atanu Bhattacharjee, Bhrigu Kumar Rajbongshi, Gajendra K Vishwakarma.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

